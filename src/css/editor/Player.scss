@import "../theme";

$selected-shadow: 0 0 0.5em 0;

.metaScore-player{
    .resizable{
        .resize-handle{
            display: none;
            background: #fff;
            border: 1px solid rgba(0, 0, 0, 0.5);
            border-radius: 50%;
        }
    }

    &.editing{
        .draggable{
            &.drag-handle,
            .drag-handle{
                cursor: move;
            }
        }

        .resizable > .resize-handle{
            display: block;
        }

        .metaScore-component{
            &.media,
            &.controller,
            &.block,
            &.block-toggler{
                &.selected{
                    box-shadow: $block-color $selected-shadow;
                }

                &:hover,
                &.dragging{
                    .pager{
                        display: block !important;
                    }
                }
            }

            &.block-toggler{
                .button{
                    pointer-events: none;
                }
            }

            &.page{
                &.selected{
                    &::after{
                        content: "";
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        box-shadow: $page-color $selected-shadow inset;
                        pointer-events: none;
                    }
                }
            }

            &.element{
                outline-width: 1px;
                outline-style: dashed;
                pointer-events: auto;

                &.Cursor{
                    outline-color: $cursor-element-color;
                }

                &.Content{
                    outline-color: $content-element-color;
                }

                &.Animation{
                    outline-color: $animation-element-color;
                }

                &.selected{
                    display: block;

                    &::after{
                        content: "";
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        pointer-events: none;
                        z-index: -1;
                    }

                    &.Cursor{
                        &::after{
                            box-shadow: $cursor-element-color $selected-shadow inset;
                        }

                        &.resizing{
                            canvas{
                                opacity: 0.25;
                            }
                        }
                    }

                    &.Content{
                        &::after{
                            box-shadow: $content-element-color $selected-shadow inset;
                        }

                        .contents{
                            &[contenteditable]{
                                outline-color: $content-element-color;
                                outline-width: 2px;
                                outline-style: solid;
                            }
                        }
                    }

                    &.Animation{
                        &::after{
                            box-shadow: $animation-element-color $selected-shadow inset;
                        }
                    }
                }

                &.Content{
                    .contents{
                        user-select: none;

                        a{
                            pointer-events: none;
                        }
                    }

                    &.text-unlocked{
                        .contents{
                            visibility: visible;
                            pointer-events: auto;
                            user-select: auto;
                        }
                    }
                }
            }
        }

        &.show-contents{
            .metaScore-component.element{
                &.active{
                    .contents{
                        visibility: visible;
                        pointer-events: auto;
                    }
                }
            }
        }
    }
}